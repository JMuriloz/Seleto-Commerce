
# âš¡ InstruÃ§Ãµes RÃ¡pidas (TL;DR)

## ğŸ“Œ O que foi feito

âœ… **Logs detalhados adicionados** â€” Console agora mostra exatamente onde o erro estÃ¡
âœ… **VerificaÃ§Ã£o de autenticaÃ§Ã£o** â€” App verifica se vocÃª estÃ¡ logado antes de salvar
âœ… **Rastreamento de UID** â€” Seu ID de usuÃ¡rio Ã© capturado e exibido no console

---

## ğŸš€ FaÃ§a AGORA (5 minutos)

### 1ï¸âƒ£ Habilitar Google Auth no Firebase Console

```
https://console.firebase.google.com/
  â†’ Selecione "seleto-commerce"
  â†’ Authentication â†’ Sign-in method
  â†’ Ative "Google"
  â†’ Save
```

### 2ï¸âƒ£ Fazer Login no App e Copiar UID

1. Abra seu app
2. Clique em **"Login"** â†’ Google
3. Abra **Console** do navegador (F12 ou Ctrl+Shift+J)
4. Procure:
   ```
   ğŸ” AutenticaÃ§Ã£o detectada: {uid: "abc123...", email: "..."}
   ```
5. **Copie o `uid`** (ex: `abc123xyz`)

### 3ï¸âƒ£ Criar Admin no Firestore

```
Firestore Console
  â†’ Collections
  â†’ + Start collection
  â†’ Nome: "admins"
  â†’ ID do documento: Cole seu UID (abc123xyz)
  â†’ Campo "role" com valor "admin"
  â†’ Save
```

### 4ï¸âƒ£ Copiar e Colar as Regras de SeguranÃ§a

```
Firestore Console
  â†’ Rules
  â†’ Delete tudo
  â†’ Cole o cÃ³digo abaixo:
```

```firestore
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /products/{productId} {
      allow read: if true;
      allow create, update, delete: if request.auth != null
        && exists(/databases/$(database)/documents/admins/$(request.auth.uid));
    }
    match /admins/{adminId} {
      allow read: if request.auth != null
        && exists(/databases/$(database)/documents/admins/$(request.auth.uid));
      allow create, update, delete: if false;
    }
    match /categories/{categoryId} {
      allow read: if true;
      allow write: if false;
    }
    match /stores/{storeId} {
      allow read: if true;
      allow write: if false;
    }
    match /{document=**} {
      allow read: if true;
      allow write: if false;
    }
  }
}
```

â†’ **Publish**

### 5ï¸âƒ£ Testar

1. Recarregue o app (F5)
2. BotÃ£o deve dizer **"Login"** â†’ Clique
3. FaÃ§a login com Google
4. BotÃ£o deve mudar para **"Painel"** âœ…
5. Clique em **"Painel"** â†’ **"Novo Produto"** ou **"ğŸ§ª Produto de Teste"**
6. Se salvar com sucesso, verÃ¡ no Console:
   ```
   âœ… Produto de teste criado no Firestore: ...
   ```

---

## ğŸ› Se der erro

**Erro: "âŒ Falha ao salvar no Firestore"**

1. Abra Console (F12)
2. Procure `âŒ Erro ao salvar produto de teste:`
3. Cole a mensagem de erro aqui (copie o objeto inteiro)
4. PossÃ­veis causas:
   - `permission-denied` â†’ Admin nÃ£o existe em `admins/{uid}`
   - `unauthenticated` â†’ NÃ£o estÃ¡ logado (refaÃ§a login)
   - Outro erro â†’ Envie a mensagem exata

---

## ğŸ“ PrÃ³xima Etapa

ApÃ³s conseguir adicionar um produto com sucesso:
- âœ… Teste editar produto
- âœ… Teste deletar produto
- âœ… Verifique se aparece na pÃ¡gina inicial
- âœ… Teste modo escuro (tema)

Pronto! ğŸ‰
